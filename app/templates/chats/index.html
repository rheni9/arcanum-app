{# ============================================================================
  Arcanum â€“ Chats Overview Page
  Displays all chats in a sortable table with a search and filter interface.
  Includes a summary block with global statistics across all chats.
============================================================================ #}

{% extends "base.html" %}

{% block title %}
  {{ _('Chats') }} | Arcanum
{% endblock %}

{% block content %}
  <div class="content-area">

    {# === Page Title and Global Statistics === #}
    <div class="meta-info-block">
      <section class="section">
        <h1 class="section-title">{{ _('Chats') }}</h1>
        {% include "chats/_global_stats_table.html" %}

        {# === Add New Chat Button === #}
        <div class="action-btn-right">
          <a href="{{ url_for('chats.add_chat') }}" class="btn btn-primary btn-icon">
            <img src="{{ url_for('static', filename='img/add_chat_icon.png') }}" alt="{{ _('Add Chat') }}">
            <span>{{ _('Add Chat') }}</span>
          </a>
        </div>
      </section>
    </div>

    {# === Main Content Wrapper === #}
    <div class="inner-wrapper">
    
      {# === Search and Filter Interface === #}
      <section class="section">
        {% include "components/_search_filter_block.html" with context %}
      </section>

      {# === Info Message (No Results or Notice) === #}
      {% if info_message %}
        <section class="section">
          <div class="results-box no-results">
            <p class="results-summary">{{ info_message }}</p>
          </div>
        </section>
      {% endif %}

      {# === Chats Table Section === #}
      <section class="section">
        <div id="chats-table-container">
          {% include "chats/_chats_table.html" %}
        </div>
      </section>

    </div> {# === End .inner-wrapper === #}
  </div> {# === End .content-area === #}
{% endblock %}

{% block scripts %}
  <script type="module" src="{{ url_for('static', filename='js/forms/searchForm.js') }}"></script>
  <script type="module" src="{{ url_for('static', filename='js/forms/filterForm.js') }}"></script>
{% endblock %}
