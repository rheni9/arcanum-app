{# ============================================================================
  Chat List Template for the Arcanum Application
  Displays all chats with global stats, filters, and sorting table
============================================================================ #}

{% extends "base.html" %}

{% block title %}
  Chats | Arcanum
{% endblock %}

{% block content %}
  <div class="page-container">

    {# === Metadata Block: Title and Global Stats === #}
    <div class="meta-block">
      <section class="section">
        <h1 class="section-title">Chats</h1>
        {% include "chats/_global_stats_table.html" %}

        {# === Add New Chat Button === #}
        <div class="action-btn-right">
          <a href="{{ url_for('chats.new_chat') }}" class="btn btn-primary btn-icon">
            <img src="{{ url_for('static', filename='img/add_chat_icon.png') }}" alt="Add">
            <span>Add Chat</span>
          </a>
        </div>
      </section>
    </div>

    {# === Main Content Wrapper === #}
    <div class="content-wrapper">
    
      {# === Search and Filter Block === #}
      <section class="section">
        {% include "components/_search_filter_block.html" with context %}
      </section>

      {# === Informational Message === #}
      {% if info_message %}
      <section class="section">
        <div class="results-box no-results">
          <p class="results-summary">{{ info_message }}</p>
        </div>
      </section>
      {% endif %}

      {# === Chats Table === #}
      <section class="section">
        <div id="chats-table-container">
          {% include "chats/_chats_table.html" %}
        </div>
      </section>

    </div> {# end .content-wrapper #}
  </div> {# end .page-container #}
{% endblock %}
